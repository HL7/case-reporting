@prefix fhir: <http://hl7.org/fhir/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix sct: <http://snomed.info/id/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# - resource -------------------------------------------------------------------

<http://fhir.hl7.org/us/case-reporting/Communication/rr-example-1> a fhir:Communication;
  fhir:nodeRole fhir:treeRoot;
  fhir:Resource.id [ fhir:value "rr-example-1"];
  fhir:Resource.meta [
     fhir:Meta.profile [
       fhir:value "http://fhir.hl7.org/us/case-reporting/StructureDefinition/rr-communication";
       fhir:index 0
     ]
  ];
  fhir:DomainResource.text [
     fhir:Narrative.status [ fhir:value "generated" ];
     fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative with Details</b></p><p><b>id</b>: rr-example-1</p><p><b>meta</b>: </p><p><b>identifier</b>: RR12346, 464564</p><p><b>definition</b>: <a href=\"PlanDefinition/authoringagency-1\">PlanDefinition/authoringagency-1</a></p><p><b>status</b>: completed</p><p><b>category</b>: ACTION REQUIRED <span style=\"background: LightGoldenRodYellow\">(Details : {http://acme.org/cdc-codes code 'action-required' = 'action-required', given as 'ACTION REQUIRED'})</span></p><p><b>subject</b>: <a href=\"Patient/rr-patient\">Patient/rr-patient</a></p><p><b>recipient</b>: <a href=\"Organization/rr-routing-entity\">Organization/rr-routing-entity</a>, <a href=\"Organization/rr-resp-agent\">Organization/rr-resp-agent</a></p><p><b>topic</b>: Reportable condition notification: An initial report for Zika has been sent to the Health Authority West.</p><p><b>received</b>: Jul 19, 2017 4:09:06 AM</p><p><b>sender</b>: <a href=\"Practitioner/rr-sender\">Practitioner/rr-sender</a></p><p><b>reasonCode</b>: Zika virus disease <span style=\"background: LightGoldenRodYellow\">(Details : {SNOMED CT code '3928002' = 'Zika virus disease (disorder)', given as 'Zika virus disease (disorder)'})</span></p><h3>Payloads</h3><table class=\"grid\"><tr><td>-</td><td><b>Extension</b></td><td><b>Content[x]</b></td></tr><tr><td>*</td><td/><td><a href=\"DocumentReference/eICR_CDA_document\">eICR_Filename.xml</a></td></tr></table></div>"
  ];
  fhir:Communication.identifier [
     fhir:index 0;
     fhir:Identifier.system [ fhir:value "http://acme.org/identifiers" ];
     fhir:Identifier.value [ fhir:value "RR12346" ]
  ], [
     fhir:index 1;
     fhir:Identifier.system [ fhir:value "http://acme.org/identifiers" ];
     fhir:Identifier.value [ fhir:value "464564" ]
  ];
  fhir:Communication.definition [
     fhir:index 0;
     fhir:link <http://fhir.hl7.org/us/case-reporting/PlanDefinition/authoringagency-1>;
     fhir:Reference.reference [ fhir:value "PlanDefinition/authoringagency-1" ]
  ];
  fhir:Communication.status [ fhir:value "completed"];
  fhir:Communication.category [
     fhir:index 0;
     fhir:CodeableConcept.coding [
       fhir:index 0;
       fhir:Coding.system [ fhir:value "http://acme.org/cdc-codes" ];
       fhir:Coding.code [ fhir:value "action-required" ];
       fhir:Coding.display [ fhir:value "ACTION REQUIRED" ]
     ];
     fhir:CodeableConcept.text [ fhir:value "ACTION REQUIRED" ]
  ];
  fhir:Communication.subject [
     fhir:link <http://fhir.hl7.org/us/case-reporting/Patient/rr-patient>;
     fhir:Reference.reference [ fhir:value "Patient/rr-patient" ]
  ];
  fhir:Communication.recipient [
     fhir:index 0;
     fhir:link <http://fhir.hl7.org/us/case-reporting/Organization/rr-routing-entity>;
     fhir:Element.extension [
       fhir:index 0;
       fhir:Extension.url [ fhir:value "http://fhir.hl7.org/us/case-reporting/StructureDefinition/extension-primary-agency" ];
       fhir:Extension.valueBoolean [ fhir:value "false"^^xsd:boolean ]
     ], [
       fhir:index 1;
       fhir:Extension.url [ fhir:value "http://fhir.hl7.org/us/case-reporting/StructureDefinition/extension-loc-relevance" ];
       fhir:Extension.valueCode [ fhir:value "both" ]
     ];
     fhir:Reference.reference [ fhir:value "Organization/rr-routing-entity" ]
  ], [
     fhir:index 1;
     fhir:link <http://fhir.hl7.org/us/case-reporting/Organization/rr-resp-agent>;
     fhir:Element.extension [
       fhir:index 0;
       fhir:Extension.url [ fhir:value "http://fhir.hl7.org/us/case-reporting/StructureDefinition/extension-primary-agency" ];
       fhir:Extension.valueBoolean [ fhir:value "true"^^xsd:boolean ]
     ], [
       fhir:index 1;
       fhir:Extension.url [ fhir:value "http://fhir.hl7.org/us/case-reporting/StructureDefinition/extension-loc-relevance" ];
       fhir:Extension.valueCode [ fhir:value "both" ]
     ];
     fhir:Reference.reference [ fhir:value "Organization/rr-resp-agent" ]
  ];
  fhir:Communication.topic [
     fhir:index 0;
     fhir:Element.extension [
       fhir:index 0;
       fhir:Extension.url [ fhir:value "http://fhir.hl7.org/us/case-reporting/StructureDefinition/extension-topic-summary" ];
       fhir:Extension.valueString [ fhir:value "An initial case report was submitted electronically by your organization to determine if a patient has a public health reportable condition. The condition of Zika was identified and is a reportable condition in Michigan. The initial case report was forwarded to the Health Authority West." ]
     ], [
       fhir:index 1;
       fhir:Extension.url [ fhir:value "http://fhir.hl7.org/us/case-reporting/StructureDefinition/extension-topic-dor" ];
       fhir:Extension.valueCode [ fhir:value "Y" ]
     ], [
       fhir:index 2;
       fhir:Extension.url [ fhir:value "http://fhir.hl7.org/us/case-reporting/StructureDefinition/extension-topic-dor-reason" ];
       fhir:Extension.valueCodeableConcept [
         fhir:CodeableConcept.coding [
           fhir:index 0;
           fhir:Coding.system [ fhir:value "http://acme.org/cdc-codes" ];
           fhir:Coding.code [ fhir:value "missing" ];
           fhir:Coding.display [ fhir:value "MISSING REQUIRED DATA(TEMPORARY CODE)" ]
         ];
         fhir:CodeableConcept.text [ fhir:value "MISSING REQUIRED DATA" ]
       ]
     ], [
       fhir:index 3;
       fhir:Extension.url [ fhir:value "http://fhir.hl7.org/us/case-reporting/StructureDefinition/extension-topic-dor-rule" ];
       fhir:Extension.valueString [ fhir:value "Rule used in reportability determination." ]
     ];
     fhir:Reference.display [ fhir:value "Reportable condition notification: An initial report for Zika has been sent to the Health Authority West." ]
  ];
  fhir:Communication.received [ fhir:value "2017-07-19T04:09:06Z"^^xsd:dateTime];
  fhir:Communication.sender [
     fhir:link <http://fhir.hl7.org/us/case-reporting/Practitioner/rr-sender>;
     fhir:Element.extension [
       fhir:index 0;
       fhir:Extension.url [ fhir:value "http://fhir.hl7.org/us/case-reporting/StructureDefinition/extension-on-behalf-of" ];
       fhir:Extension.valueReference [
         fhir:link <http://fhir.hl7.org/us/case-reporting/Organization/rr-sender>;
         fhir:Reference.reference [ fhir:value "Organization/rr-sender" ]
       ]
     ];
     fhir:Reference.reference [ fhir:value "Practitioner/rr-sender" ]
  ];
  fhir:Communication.reasonCode [
     fhir:index 0;
     fhir:CodeableConcept.coding [
       fhir:index 0;
       a sct:3928002;
       fhir:Coding.system [ fhir:value "http://snomed.info/sct" ];
       fhir:Coding.code [ fhir:value "3928002" ];
       fhir:Coding.display [ fhir:value "Zika virus disease (disorder)" ]
     ];
     fhir:CodeableConcept.text [ fhir:value "Zika virus disease" ]
  ];
  fhir:Communication.payload [
     fhir:index 0;
     fhir:Element.extension [
       fhir:index 0;
       fhir:Extension.url [ fhir:value "http://fhir.hl7.org/us/case-reporting/StructureDefinition/extension-manual-init" ];
       fhir:Extension.valueBoolean [ fhir:value "false"^^xsd:boolean ]
     ];
     fhir:Communication.payload.contentReference [
       fhir:link <http://fhir.hl7.org/us/case-reporting/DocumentReference/eICR_CDA_document>;
       fhir:Element.extension [
         fhir:index 0;
         fhir:Extension.url [ fhir:value "http://fhir.hl7.org/us/case-reporting/StructureDefinition/extension-manual-init-reason" ];
         fhir:Extension.valueString [ fhir:value "Free text containing the reason for the manual initiation" ]
       ];
       fhir:Reference.reference [ fhir:value "DocumentReference/eICR_CDA_document" ];
       fhir:Reference.identifier [
         fhir:Identifier.system [ fhir:value "http://acme.org/EICR-identifier" ];
         fhir:Identifier.value [ fhir:value "EICR123456" ]
       ];
       fhir:Reference.display [ fhir:value "eICR_Filename.xml" ]
     ]
  ] .

# - ontology header ------------------------------------------------------------

<http://fhir.hl7.org/us/case-reporting/Communication/rr-example-1.ttl> a owl:Ontology;
  owl:imports fhir:fhir.ttl .

# -------------------------------------------------------------------------------------

