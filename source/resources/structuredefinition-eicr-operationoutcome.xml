<?xml version="1.0" encoding="UTF-8"?>

<StructureDefinition xmlns="http://hl7.org/fhir">
  <id value="eicr-operationoutcome" />
  <url value="http://hl7.org/fhir/us/ecr/StructureDefinition/eicr-operationoutcome" />
  <version value="0.0.0" />
  <name value="eICR Operation Outcome" />
  <status value="draft" />
  <date value="2018-08-01T00:00:00+10:00" />
  <description
    value="The Electronic Case Reporting Operation Outcome profile establishes the core elements, extensions, vocabularies and value sets for representing the following for electronic case reporting:&#xA;&#xA;-  Details about the eICR processing warnings or errors encountered during eICR processing" />
  <fhirVersion value="3.0.1" />
  
  <kind value="resource" />
  <abstract value="false" />
  <type value="OperationOutcome" />
  <baseDefinition value="http://hl7.org/fhir/StructureDefinition/OperationOutcome" />
  <derivation value="constraint" />
  <differential>
    <element id="OperationOutcome">
      <path value="OperationOutcome" />
      <short value="eICR Operation Outcome" />
      <definition value="TODO" />
      <min value="0" />
      <max value="*" />
      <base>
        <path value="OperationOutcome" />
        <min value="0" />
        <max value="*" />
      </base>
      <mustSupport value="false" />
      <isModifier value="false" />
    </element>
    <element id="OperationOutcome.issue">
      <path value="OperationOutcome.issue" />
      <mustSupport value="true" />
      <isModifier value="false" />
    </element>
    <element id="OperationOutcome.issue.details">
      <path value="OperationOutcome.issue.details" />
      <short value="eICR Processing Status Reasons" />
      <definition
        value="If the PHA system (or its intermediary) identifies an issue with the eICR, but is still able to process the file, or  If the incoming eICR was not processed by the PHA system (or its intermediary), the code will identify  the warning or error reason." />
      <min value="1" />
      <max value="1" />
      <type>
        <code value="CodeableConcept" />
      </type>
      <mustSupport value="true" />
      <isModifier value="false" />
      <binding>
        <strength value="extensible" />
        <description value="Code identifying  the warning or error for eICR Processing." />
        <valueSetReference>
          <reference value="http://hl7.org/fhir/us/ecr/ValueSet/status-reason" />
        </valueSetReference>
      </binding>
    </element>
  </differential>
</StructureDefinition>
