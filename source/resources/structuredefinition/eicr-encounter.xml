<?xml version="1.0" encoding="UTF-8"?>
<StructureDefinition
    xmlns="http://hl7.org/fhir">
    <id value="eicr-encounter"/>
    <meta>
        <versionId value="5"/>
        <lastUpdated value="2019-04-29T03:29:24.000-04:00"/>
    </meta>
    <url value="http://hl7.org/fhir/us/ecr/StructureDefinition/eicr-encounter"/>
    <version value="1.0.0"/>
    <name value="eicr-encounter"/>
    <title value="eICR Encounter"/>
    <status value="draft"/>
    <date value="2018-08-01"/>
    <contact>
        <telecom>
            <system value="url"/>
            <value value="The Electronic Case Reporting Encounter profile is based on the Encounter resource and establishes the core elements, extensions, vocabularies and value sets for representing the following encounters for electronic case reporting:&#xA;&#xA;- Initial Case Report context&#xA;- Reportability Response context"/>
        </telecom>
    </contact>
    <description value="The Electronic Case Reporting Encounter profile is based on the Encounter resource and establishes the core elements, extensions, vocabularies and value sets for representing the following encounters for electronic case reporting:&#xA;&#xA;- Initial Case Report encounter related to the reported event."/>
    <fhirVersion value="3.0.1"/>
    <kind value="resource"/>
    <abstract value="false"/>
    <type value="Encounter"/>
    <baseDefinition value="http://hl7.org/fhir/StructureDefinition/Encounter"/>
    <derivation value="constraint"/>
    <differential>
        <element id="Encounter">
            <path value="Encounter"/>
            <short value="eICR Encounter"/>
            <definition value="The Electronic Case Reporting Encounter profile is based on the Encounter resource and establishes the core elements, extensions, vocabularies and value sets for representing the following encounters for electronic case reporting:&#xA;&#xA;- Initial Case Report encounter related to the reported event."/>
            <mustSupport value="false"/>
            <isModifier value="false"/>
        </element>
        <element id="Encounter.identifier">
            <path value="Encounter.identifier"/>
            <definition value="Visit or encounter id."/>
            <min value="1"/>
            <max value="1"/>
            <mustSupport value="true"/>
        </element>
        <element id="Encounter.type">
            <path value="Encounter.type"/>
            <max value="1"/>
            <mustSupport value="true"/>
        </element>
        <element id="Encounter.participant">
            <path value="Encounter.participant"/>
            <slicing>
                <discriminator>
                    <type value="type"/>
                    <path value="type"/>
                </discriminator>
                <rules value="open"/>
            </slicing>
            <definition value="The provider in charge of care and the facility in which care was provided during the encounter in which the eICR was triggered"/>
            <min value="1"/>
            <mustSupport value="true"/>
        </element>
        <element id="Encounter.participant:sliceResponsibleProvider">
            <path value="Encounter.participant"/>
            <sliceName value="sliceResponsibleProvider"/>
            <short value="Responsible provider"/>
            <definition value="The provider in charge of care and the facility in which care was provided during the encounter in which the eICR was triggered"/>
            <min value="1"/>
            <max value="1"/>
            <mustSupport value="true"/>
        </element>
        <element id="Encounter.participant:sliceResponsibleProvider.type">
            <path value="Encounter.participant.type"/>
            <short value="Responsible provider"/>
            <patternCodeableConcept>
                <coding>
                    <system value="http://hl7.org/fhir/v3/ParticipationType"/>
                    <code value="ATND"/>
                </coding>
            </patternCodeableConcept>
        </element>
        <element id="Encounter.participant:sliceResponsibleProvider.individual">
            <path value="Encounter.participant.individual"/>
            <definition value="The provider in charge of care and the facility in which care was provided during the encounter in which the eICR was triggered"/>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-practitioner"/>
            </type>
        </element>
        <element id="Encounter.period">
            <path value="Encounter.period"/>
            <short value="Patient encounter start and end times"/>
            <definition value="Start and end times of the patient encounter in which the eICR was triggered"/>
            <min value="1"/>
            <max value="1"/>
            <mustSupport value="true"/>
        </element>
        <element id="Encounter.diagnosis">
            <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-explicit-type-name">
                <valueString value="Diagnosis"/>
            </extension>
            <path value="Encounter.diagnosis"/>
            <mustSupport value="true"/>
        </element>
        <element id="Encounter.diagnosis.extension">
            <path value="Encounter.diagnosis.extension"/>
            <slicing>
                <discriminator>
                    <type value="value"/>
                    <path value="url"/>
                </discriminator>
                <rules value="open"/>
            </slicing>
        </element>
        <element id="Encounter.diagnosis.extension:eICRTriggerCodeFlag">
            <path value="Encounter.diagnosis.extension"/>
            <sliceName value="eICRTriggerCodeFlag"/>
            <short value="eICR Trigger Code Flag"/>
            <definition value="A flag to indicate that the **target** reference represents a triggering event and caused the eCR to be generated. It is used in the eICR profile in the following sections:;&#xA;&#xA;- Encounters Section;&#xA;- Problem Section;&#xA;&#xA;- Plan of Treatment Section;&#xA;- Results Section"/>
            <max value="1"/>
            <type>
                <code value="Extension"/>
                <profile value="http://hl7.org/fhir/us/ecr/StructureDefinition/extension-eicr-trigger-code-flag"/>
            </type>
        </element>
        <element id="Encounter.diagnosis.condition">
            <path value="Encounter.diagnosis.condition"/>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-condition"/>
            </type>
        </element>
        <element id="Encounter.location">
            <path value="Encounter.location"/>
            <short value="eICR encounter location"/>
            <definition value="Location of the facility in which the eICR encounter took place"/>
            <max value="1"/>
            <mustSupport value="true"/>
            <isModifier value="false"/>
        </element>
        <element id="Encounter.location.location">
            <path value="Encounter.location.location"/>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/us/ecr/StructureDefinition/eicr-location"/>
            </type>
            <mustSupport value="false"/>
            <isModifier value="false"/>
        </element>
        <element id="Encounter.serviceProvider">
            <path value="Encounter.serviceProvider"/>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/us/ecr/StructureDefinition/ecr-organization"/>
            </type>
            <mustSupport value="true"/>
        </element>
    </differential>
</StructureDefinition>