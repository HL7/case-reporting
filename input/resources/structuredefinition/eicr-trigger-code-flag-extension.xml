<?xml version="1.0" encoding="UTF-8"?>
<StructureDefinition
    xmlns="http://hl7.org/fhir">
    <id value="eicr-trigger-code-flag-extension"/>
    <meta>
        <versionId value="5"/>
        <lastUpdated value="2020-11-13T03:03:58.819+00:00"/>
        <source value="#CWtdvzPOUgmWaFBo"/>
    </meta>
    <url value="http://hl7.org/fhir/us/ecr/StructureDefinition/eicr-trigger-code-flag-extension"/>
    <version value="1.0.0"/>
    <name value="Eicr_Trigger_Code_Flag_Extension"/>
    <title value="eICR Trigger Code Flag Extension"/>
    <status value="active"/>
    <experimental value="false"/>
    <publisher value="HL7 Public Health Work Group"/>
    <description value="This Extension profile represents a flag which, if it is present, indicates that the **target** reference represents a triggering event and caused the eCR to be generated. It contains the trigger code which is the same as the trigger code in the resource and is used to identify which code(s) in a resource that allows multiple trigger codes (e.g. US Core Observation Lab where a trigger code could be contained in either the code (lab test) or the value (lab test result) or in the case of a battery or panel of tests, in the hasMember as another US Core Observation Lab code or value). It also contains the RCTC OID and RCTC version of the value set from which the code was matched. &#xA;&#xA;It is available for use in the following places:&#xA;&#xA;* eICR Encounter&#xA;	* flags a code contained in Condition.code (eICR Condition) which is contained in Encounter.diagnosis (eICR Encounter) - diagnosis&#xA;* Problem Section entry&#xA;	* flags a code contained in Condition.code (eICR Condition) - diagnosis&#xA;* Plan of Treatment Section entry&#xA;	* flags a code contained in ServiceRequest.code (eICR ServiceRequest) - test being requested&#xA;* Results Section entry&#xA;	* flags codes contained in:&#xA;		* Observation.code (US Core Laboratory Result Observation Profile code) - test performed/battery or panel name&#xA;		* Observation.value (US Core Laboratory Result Observation Profile value) - test result&#xA;		* Observation.code referenced in containing Observation.hasMember (US Core Laboratory Result Observation Profile code) - member of panel test performed&#xA;		* Observation.value referenced in containing Observation.hasMember (US Core Laboratory Result Observation Profile value) - member of panel test result&#xA;* Medications Section entry&#xA;	* flags a code contained in MedicationAdministration.medicationCodeableConcept - medication&#xA;* Immunization Section entry&#xA;	* flags a code contained in US Core Immunization (Immunization.vaccineCode) - vaccine&#xA;* Procedures Section entry&#xA;	* flags a code contained in US Core Procedure (Procedure.code) - procedure"/>
    <fhirVersion value="4.0.1"/>
    <mapping>
        <identity value="eCR-CDA"/>
        <name value="eCR FHIR to CDA Mapping"/>
        <comment value="This table maps FHIR eCR profile elements to eICR/RR CDA template elements located in the CDA eICR IG (R2 STU2) and CDA RR IG (R2 STU1)."/>
    </mapping>
    <kind value="complex-type"/>
    <abstract value="false"/>
    <context>
        <type value="element"/>
        <expression value="Composition.section.entry"/>
    </context>
    <context>
        <type value="element"/>
        <expression value="Encounter.diagnosis"/>
    </context>
    <type value="Extension"/>
    <baseDefinition value="http://hl7.org/fhir/StructureDefinition/Extension"/>
    <derivation value="constraint"/>
    <snapshot>
        <element id="Extension">
            <path value="Extension"/>
            <short value="eICR Trigger Code Flag"/>
            <definition value="Definition: A flag to indicate that the **target** reference represents a triggering event and caused the eCR to be generated. It is used in the eICR profile in the following places:&#xD;&#xD;&#xA;- Composition[eICR Composition].section[Problem Section].entry&#xD;- Composition[eICR Composition].section[Results Section].entry&#xD;&#xA;- Composition[eICR Composition].section[Plan of Treatment Section].entry&#xD;- Encounter[eICR Encounter].diagnosis"/>
            <min value="0"/>
            <max value="*"/>
            <base>
                <path value="Extension"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="Element"/>
            </constraint>
            <constraint>
                <key value="ext-1"/>
                <severity value="error"/>
                <human value="Must have either extensions or value[x], not both"/>
                <expression value="extension.exists() != value.exists()"/>
                <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), 'value')])"/>
                <source value="Extension"/>
            </constraint>
            <isModifier value="false"/>
        </element>
        <element id="Extension.id">
            <path value="Extension.id"/>
            <representation value="xmlAttr"/>
            <short value="Unique id for inter-element referencing"/>
            <definition value="Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces."/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="Element.id"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <code value="string"/>
            </type>
            <isModifier value="false"/>
            <isSummary value="false"/>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
        </element>
        <element id="Extension.extension">
            <path value="Extension.extension"/>
            <slicing>
                <discriminator>
                    <type value="value"/>
                    <path value="url"/>
                </discriminator>
                <description value="Extensions are always sliced by (at least) url"/>
                <rules value="open"/>
            </slicing>
            <short value="Extension"/>
            <definition value="An Extension"/>
            <min value="0"/>
            <max value="*"/>
            <base>
                <path value="Element.extension"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Extension"/>
            </type>
            <isModifier value="false"/>
            <isSummary value="false"/>
        </element>
        <element id="Extension.extension:extensionTriggerCodeValueSet">
            <path value="Extension.extension"/>
            <sliceName value="extensionTriggerCodeValueSet"/>
            <short value="RCTC value set OID"/>
            <definition value="RCTC value set OID"/>
            <min value="1"/>
            <max value="1"/>
            <base>
                <path value="Element.extension"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Extension"/>
            </type>
            <isModifier value="false"/>
            <isSummary value="false"/>
        </element>
        <element id="Extension.extension:extensionTriggerCodeValueSet.id">
            <path value="Extension.extension.id"/>
            <representation value="xmlAttr"/>
            <short value="Unique id for inter-element referencing"/>
            <definition value="Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces."/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="Element.id"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <code value="string"/>
            </type>
            <isModifier value="false"/>
            <isSummary value="false"/>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
        </element>
        <element id="Extension.extension:extensionTriggerCodeValueSet.extension">
            <path value="Extension.extension.extension"/>
            <slicing>
                <discriminator>
                    <type value="value"/>
                    <path value="url"/>
                </discriminator>
                <description value="Extensions are always sliced by (at least) url"/>
                <rules value="open"/>
            </slicing>
            <short value="Additional content defined by implementations"/>
            <definition value="May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension."/>
            <comment value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
            <alias value="extensions"/>
            <alias value="user content"/>
            <min value="0"/>
            <max value="*"/>
            <base>
                <path value="Element.extension"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Extension"/>
            </type>
            <isModifier value="false"/>
            <isSummary value="false"/>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
        </element>
        <element id="Extension.extension:extensionTriggerCodeValueSet.url">
            <path value="Extension.extension.url"/>
            <representation value="xmlAttr"/>
            <short value="identifies the meaning of the extension"/>
            <definition value="Source of the definition for the extension code - a logical name or a URL."/>
            <comment value="The definition may point directly to a computable or human-readable definition of the extensibility codes, or it may be a logical URI as declared in some other specification. The definition SHALL be a URI for the Structure Definition defining the extension."/>
            <min value="1"/>
            <max value="1"/>
            <base>
                <path value="Extension.url"/>
                <min value="1"/>
                <max value="1"/>
            </base>
            <type>
                <code>
                    <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-json-type">
                        <valueString value="string"/>
                    </extension>
                    <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-xml-type">
                        <valueString value="xsd:string"/>
                    </extension>
                    <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-rdf-type">
                        <valueString value="xsd:string"/>
                    </extension>
                    <extension url="http://hl7.org/fhir/StructureDefinition/regex">
                        <valueString value="((http|https)://([A-Za-z0-9\\\.\:\%\$]*\/)*)?(Account|ActivityDefinition|AdverseEvent|AllergyIntolerance|Appointment|AppointmentResponse|AuditEvent|Basic|Binary|BiologicallyDerivedProduct|BodyStructure|Bundle|CapabilityStatement|CarePlan|CareTeam|CatalogEntry|ChargeItem|ChargeItemDefinition|Claim|ClaimResponse|ClinicalImpression|CodeSystem|Communication|CommunicationRequest|CompartmentDefinition|Composition|ConceptMap|Condition|Consent|Contract|Coverage|CoverageEligibilityRequest|CoverageEligibilityResponse|DetectedIssue|Device|DeviceDefinition|DeviceMetric|DeviceRequest|DeviceUseStatement|DiagnosticReport|DocumentManifest|DocumentReference|EffectEvidenceSynthesis|Encounter|Endpoint|EnrollmentRequest|EnrollmentResponse|EpisodeOfCare|EventDefinition|Evidence|EvidenceVariable|ExampleScenario|ExplanationOfBenefit|FamilyMemberHistory|Flag|Goal|GraphDefinition|Group|GuidanceResponse|HealthcareService|ImagingStudy|Immunization|ImmunizationEvaluation|ImmunizationRecommendation|ImplementationGuide|InsurancePlan|Invoice|Library|Linkage|List|Location|Measure|MeasureReport|Media|Medication|MedicationAdministration|MedicationDispense|MedicationKnowledge|MedicationRequest|MedicationStatement|MedicinalProduct|MedicinalProductAuthorization|MedicinalProductContraindication|MedicinalProductIndication|MedicinalProductIngredient|MedicinalProductInteraction|MedicinalProductManufactured|MedicinalProductPackaged|MedicinalProductPharmaceutical|MedicinalProductUndesirableEffect|MessageDefinition|MessageHeader|MolecularSequence|NamingSystem|NutritionOrder|Observation|ObservationDefinition|OperationDefinition|OperationOutcome|Organization|OrganizationAffiliation|Patient|PaymentNotice|PaymentReconciliation|Person|PlanDefinition|Practitioner|PractitionerRole|Procedure|Provenance|Questionnaire|QuestionnaireResponse|RelatedPerson|RequestGroup|ResearchDefinition|ResearchElementDefinition|ResearchStudy|ResearchSubject|RiskAssessment|RiskEvidenceSynthesis|Schedule|SearchParameter|ServiceRequest|Slot|Specimen|SpecimenDefinition|StructureDefinition|StructureMap|Subscription|Substance|SubstanceNucleicAcid|SubstancePolymer|SubstanceProtein|SubstanceReferenceInformation|SubstanceSourceMaterial|SubstanceSpecification|SupplyDelivery|SupplyRequest|Task|TerminologyCapabilities|TestReport|TestScript|ValueSet|VerificationResult|VisionPrescription)\/[A-Za-z0-9\-\.]{1,64}(\/_history\/[A-Za-z0-9\-\.]{1,64})?"/>
                    </extension>
                </code>
            </type>
            <fixedUri value="triggerCodeValueSet"/>
            <isModifier value="false"/>
            <isSummary value="false"/>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
        </element>
        <element id="Extension.extension:extensionTriggerCodeValueSet.value[x]">
            <path value="Extension.extension.value[x]"/>
            <short value="Value of extension"/>
            <definition value="Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list)."/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="Extension.value[x]"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <code value="oid"/>
            </type>
            <example>
                <label value="General"/>
                <valueOid value="urn:oid:2.16.840.1.114222.4.11.7508"/>
            </example>
            <isModifier value="false"/>
            <isSummary value="false"/>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
            <mapping>
                <identity value="eCR-CDA"/>
                <map value="[eICR R2 STU2] @sdtc:valueSet (Any of the eICR trigger code templates)"/>
            </mapping>
        </element>
        <element id="Extension.extension:extensionTriggerCodeValueSetVersion">
            <path value="Extension.extension"/>
            <sliceName value="extensionTriggerCodeValueSetVersion"/>
            <short value="RCTC value set version"/>
            <definition value="RCTC value set version"/>
            <min value="1"/>
            <max value="1"/>
            <base>
                <path value="Element.extension"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Extension"/>
            </type>
            <isModifier value="false"/>
            <isSummary value="false"/>
        </element>
        <element id="Extension.extension:extensionTriggerCodeValueSetVersion.id">
            <path value="Extension.extension.id"/>
            <representation value="xmlAttr"/>
            <short value="Unique id for inter-element referencing"/>
            <definition value="Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces."/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="Element.id"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <code value="string"/>
            </type>
            <isModifier value="false"/>
            <isSummary value="false"/>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
        </element>
        <element id="Extension.extension:extensionTriggerCodeValueSetVersion.extension">
            <path value="Extension.extension.extension"/>
            <slicing>
                <discriminator>
                    <type value="value"/>
                    <path value="url"/>
                </discriminator>
                <description value="Extensions are always sliced by (at least) url"/>
                <rules value="open"/>
            </slicing>
            <short value="Additional content defined by implementations"/>
            <definition value="May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension."/>
            <comment value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
            <alias value="extensions"/>
            <alias value="user content"/>
            <min value="0"/>
            <max value="*"/>
            <base>
                <path value="Element.extension"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Extension"/>
            </type>
            <isModifier value="false"/>
            <isSummary value="false"/>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
        </element>
        <element id="Extension.extension:extensionTriggerCodeValueSetVersion.url">
            <path value="Extension.extension.url"/>
            <representation value="xmlAttr"/>
            <short value="identifies the meaning of the extension"/>
            <definition value="Source of the definition for the extension code - a logical name or a URL."/>
            <comment value="The definition may point directly to a computable or human-readable definition of the extensibility codes, or it may be a logical URI as declared in some other specification. The definition SHALL be a URI for the Structure Definition defining the extension."/>
            <min value="1"/>
            <max value="1"/>
            <base>
                <path value="Extension.url"/>
                <min value="1"/>
                <max value="1"/>
            </base>
            <type>
                <code>
                    <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-json-type">
                        <valueString value="string"/>
                    </extension>
                    <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-xml-type">
                        <valueString value="xsd:string"/>
                    </extension>
                    <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-rdf-type">
                        <valueString value="xsd:string"/>
                    </extension>
                    <extension url="http://hl7.org/fhir/StructureDefinition/regex">
                        <valueString value="((http|https)://([A-Za-z0-9\\\.\:\%\$]*\/)*)?(Account|ActivityDefinition|AdverseEvent|AllergyIntolerance|Appointment|AppointmentResponse|AuditEvent|Basic|Binary|BiologicallyDerivedProduct|BodyStructure|Bundle|CapabilityStatement|CarePlan|CareTeam|CatalogEntry|ChargeItem|ChargeItemDefinition|Claim|ClaimResponse|ClinicalImpression|CodeSystem|Communication|CommunicationRequest|CompartmentDefinition|Composition|ConceptMap|Condition|Consent|Contract|Coverage|CoverageEligibilityRequest|CoverageEligibilityResponse|DetectedIssue|Device|DeviceDefinition|DeviceMetric|DeviceRequest|DeviceUseStatement|DiagnosticReport|DocumentManifest|DocumentReference|EffectEvidenceSynthesis|Encounter|Endpoint|EnrollmentRequest|EnrollmentResponse|EpisodeOfCare|EventDefinition|Evidence|EvidenceVariable|ExampleScenario|ExplanationOfBenefit|FamilyMemberHistory|Flag|Goal|GraphDefinition|Group|GuidanceResponse|HealthcareService|ImagingStudy|Immunization|ImmunizationEvaluation|ImmunizationRecommendation|ImplementationGuide|InsurancePlan|Invoice|Library|Linkage|List|Location|Measure|MeasureReport|Media|Medication|MedicationAdministration|MedicationDispense|MedicationKnowledge|MedicationRequest|MedicationStatement|MedicinalProduct|MedicinalProductAuthorization|MedicinalProductContraindication|MedicinalProductIndication|MedicinalProductIngredient|MedicinalProductInteraction|MedicinalProductManufactured|MedicinalProductPackaged|MedicinalProductPharmaceutical|MedicinalProductUndesirableEffect|MessageDefinition|MessageHeader|MolecularSequence|NamingSystem|NutritionOrder|Observation|ObservationDefinition|OperationDefinition|OperationOutcome|Organization|OrganizationAffiliation|Patient|PaymentNotice|PaymentReconciliation|Person|PlanDefinition|Practitioner|PractitionerRole|Procedure|Provenance|Questionnaire|QuestionnaireResponse|RelatedPerson|RequestGroup|ResearchDefinition|ResearchElementDefinition|ResearchStudy|ResearchSubject|RiskAssessment|RiskEvidenceSynthesis|Schedule|SearchParameter|ServiceRequest|Slot|Specimen|SpecimenDefinition|StructureDefinition|StructureMap|Subscription|Substance|SubstanceNucleicAcid|SubstancePolymer|SubstanceProtein|SubstanceReferenceInformation|SubstanceSourceMaterial|SubstanceSpecification|SupplyDelivery|SupplyRequest|Task|TerminologyCapabilities|TestReport|TestScript|ValueSet|VerificationResult|VisionPrescription)\/[A-Za-z0-9\-\.]{1,64}(\/_history\/[A-Za-z0-9\-\.]{1,64})?"/>
                    </extension>
                </code>
            </type>
            <fixedUri value="triggerCodeValueSetVersion"/>
            <isModifier value="false"/>
            <isSummary value="false"/>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
        </element>
        <element id="Extension.extension:extensionTriggerCodeValueSetVersion.value[x]">
            <path value="Extension.extension.value[x]"/>
            <short value="Value of extension"/>
            <definition value="Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list)."/>
            <min value="1"/>
            <max value="1"/>
            <base>
                <path value="Extension.value[x]"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <code value="string"/>
            </type>
            <example>
                <label value="General"/>
                <valueString value="19/05/2019"/>
            </example>
            <isModifier value="false"/>
            <isSummary value="false"/>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
            <mapping>
                <identity value="eCR-CDA"/>
                <map value="[eICR R2 STU2] @sdtc:valueSetVersion (Any of the eICR trigger code templates)"/>
            </mapping>
        </element>
        <element id="Extension.extension:extensionTriggerCode">
            <path value="Extension.extension"/>
            <sliceName value="extensionTriggerCode"/>
            <short value="Trigger code"/>
            <definition value="Trigger code - this code is the same as the trigger code in the resource and is used to identify which code(s) in a resource that allows multiple trigger codes (e.g. US Core Observation Lab where a trigger code could be contained in either the code (lab test) or the value (lab test result) or in the case of a battery or panel of tests, in the hasMember as another US Core Observation Lab code or value)."/>
            <min value="1"/>
            <max value="1"/>
            <base>
                <path value="Element.extension"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Extension"/>
            </type>
            <isModifier value="false"/>
            <isSummary value="false"/>
        </element>
        <element id="Extension.extension:extensionTriggerCode.id">
            <path value="Extension.extension.id"/>
            <representation value="xmlAttr"/>
            <short value="Unique id for inter-element referencing"/>
            <definition value="Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces."/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="Element.id"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <code value="string"/>
            </type>
            <isModifier value="false"/>
            <isSummary value="false"/>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
        </element>
        <element id="Extension.extension:extensionTriggerCode.extension">
            <path value="Extension.extension.extension"/>
            <slicing>
                <discriminator>
                    <type value="value"/>
                    <path value="url"/>
                </discriminator>
                <description value="Extensions are always sliced by (at least) url"/>
                <rules value="open"/>
            </slicing>
            <short value="Additional content defined by implementations"/>
            <definition value="May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension."/>
            <comment value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
            <alias value="extensions"/>
            <alias value="user content"/>
            <min value="0"/>
            <max value="*"/>
            <base>
                <path value="Element.extension"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Extension"/>
            </type>
            <isModifier value="false"/>
            <isSummary value="false"/>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
        </element>
        <element id="Extension.extension:extensionTriggerCode.url">
            <path value="Extension.extension.url"/>
            <representation value="xmlAttr"/>
            <short value="identifies the meaning of the extension"/>
            <definition value="Source of the definition for the extension code - a logical name or a URL."/>
            <comment value="The definition may point directly to a computable or human-readable definition of the extensibility codes, or it may be a logical URI as declared in some other specification. The definition SHALL be a URI for the Structure Definition defining the extension."/>
            <min value="1"/>
            <max value="1"/>
            <base>
                <path value="Extension.url"/>
                <min value="1"/>
                <max value="1"/>
            </base>
            <type>
                <code>
                    <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-json-type">
                        <valueString value="string"/>
                    </extension>
                    <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-xml-type">
                        <valueString value="xsd:string"/>
                    </extension>
                    <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-rdf-type">
                        <valueString value="xsd:string"/>
                    </extension>
                    <extension url="http://hl7.org/fhir/StructureDefinition/regex">
                        <valueString value="((http|https)://([A-Za-z0-9\\\.\:\%\$]*\/)*)?(Account|ActivityDefinition|AdverseEvent|AllergyIntolerance|Appointment|AppointmentResponse|AuditEvent|Basic|Binary|BiologicallyDerivedProduct|BodyStructure|Bundle|CapabilityStatement|CarePlan|CareTeam|CatalogEntry|ChargeItem|ChargeItemDefinition|Claim|ClaimResponse|ClinicalImpression|CodeSystem|Communication|CommunicationRequest|CompartmentDefinition|Composition|ConceptMap|Condition|Consent|Contract|Coverage|CoverageEligibilityRequest|CoverageEligibilityResponse|DetectedIssue|Device|DeviceDefinition|DeviceMetric|DeviceRequest|DeviceUseStatement|DiagnosticReport|DocumentManifest|DocumentReference|EffectEvidenceSynthesis|Encounter|Endpoint|EnrollmentRequest|EnrollmentResponse|EpisodeOfCare|EventDefinition|Evidence|EvidenceVariable|ExampleScenario|ExplanationOfBenefit|FamilyMemberHistory|Flag|Goal|GraphDefinition|Group|GuidanceResponse|HealthcareService|ImagingStudy|Immunization|ImmunizationEvaluation|ImmunizationRecommendation|ImplementationGuide|InsurancePlan|Invoice|Library|Linkage|List|Location|Measure|MeasureReport|Media|Medication|MedicationAdministration|MedicationDispense|MedicationKnowledge|MedicationRequest|MedicationStatement|MedicinalProduct|MedicinalProductAuthorization|MedicinalProductContraindication|MedicinalProductIndication|MedicinalProductIngredient|MedicinalProductInteraction|MedicinalProductManufactured|MedicinalProductPackaged|MedicinalProductPharmaceutical|MedicinalProductUndesirableEffect|MessageDefinition|MessageHeader|MolecularSequence|NamingSystem|NutritionOrder|Observation|ObservationDefinition|OperationDefinition|OperationOutcome|Organization|OrganizationAffiliation|Patient|PaymentNotice|PaymentReconciliation|Person|PlanDefinition|Practitioner|PractitionerRole|Procedure|Provenance|Questionnaire|QuestionnaireResponse|RelatedPerson|RequestGroup|ResearchDefinition|ResearchElementDefinition|ResearchStudy|ResearchSubject|RiskAssessment|RiskEvidenceSynthesis|Schedule|SearchParameter|ServiceRequest|Slot|Specimen|SpecimenDefinition|StructureDefinition|StructureMap|Subscription|Substance|SubstanceNucleicAcid|SubstancePolymer|SubstanceProtein|SubstanceReferenceInformation|SubstanceSourceMaterial|SubstanceSpecification|SupplyDelivery|SupplyRequest|Task|TerminologyCapabilities|TestReport|TestScript|ValueSet|VerificationResult|VisionPrescription)\/[A-Za-z0-9\-\.]{1,64}(\/_history\/[A-Za-z0-9\-\.]{1,64})?"/>
                    </extension>
                </code>
            </type>
            <fixedUri value="triggerCode"/>
            <isModifier value="false"/>
            <isSummary value="false"/>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
        </element>
        <element id="Extension.extension:extensionTriggerCode.value[x]">
            <path value="Extension.extension.value[x]"/>
            <short value="Value of extension"/>
            <definition value="Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list)."/>
            <min value="1"/>
            <max value="1"/>
            <base>
                <path value="Extension.value[x]"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <code value="Coding"/>
            </type>
            <example>
                <label value="General"/>
                <valueCoding>
                    <system value="http://snomed.info/sct"/>
                    <code value="3928002"/>
                    <display value="Zika virus disease (disorder)"/>
                </valueCoding>
            </example>
            <isModifier value="false"/>
            <isSummary value="false"/>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
            <mapping>
                <identity value="eCR-CDA"/>
                <map value="[eICR R2 STU2] Any of the eICR trigger codes (code, value[xsi:type='CD'], or translation"/>
            </mapping>
        </element>
        <element id="Extension.url">
            <path value="Extension.url"/>
            <representation value="xmlAttr"/>
            <short value="identifies the meaning of the extension"/>
            <definition value="Source of the definition for the extension code - a logical name or a URL."/>
            <comment value="The definition may point directly to a computable or human-readable definition of the extensibility codes, or it may be a logical URI as declared in some other specification. The definition SHALL be a URI for the Structure Definition defining the extension."/>
            <min value="1"/>
            <max value="1"/>
            <base>
                <path value="Extension.url"/>
                <min value="1"/>
                <max value="1"/>
            </base>
            <type>
                <code>
                    <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-json-type">
                        <valueString value="string"/>
                    </extension>
                    <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-xml-type">
                        <valueString value="xsd:string"/>
                    </extension>
                    <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-rdf-type">
                        <valueString value="xsd:string"/>
                    </extension>
                    <extension url="http://hl7.org/fhir/StructureDefinition/regex">
                        <valueString value="((http|https)://([A-Za-z0-9\\\.\:\%\$]*\/)*)?(Account|ActivityDefinition|AdverseEvent|AllergyIntolerance|Appointment|AppointmentResponse|AuditEvent|Basic|Binary|BiologicallyDerivedProduct|BodyStructure|Bundle|CapabilityStatement|CarePlan|CareTeam|CatalogEntry|ChargeItem|ChargeItemDefinition|Claim|ClaimResponse|ClinicalImpression|CodeSystem|Communication|CommunicationRequest|CompartmentDefinition|Composition|ConceptMap|Condition|Consent|Contract|Coverage|CoverageEligibilityRequest|CoverageEligibilityResponse|DetectedIssue|Device|DeviceDefinition|DeviceMetric|DeviceRequest|DeviceUseStatement|DiagnosticReport|DocumentManifest|DocumentReference|EffectEvidenceSynthesis|Encounter|Endpoint|EnrollmentRequest|EnrollmentResponse|EpisodeOfCare|EventDefinition|Evidence|EvidenceVariable|ExampleScenario|ExplanationOfBenefit|FamilyMemberHistory|Flag|Goal|GraphDefinition|Group|GuidanceResponse|HealthcareService|ImagingStudy|Immunization|ImmunizationEvaluation|ImmunizationRecommendation|ImplementationGuide|InsurancePlan|Invoice|Library|Linkage|List|Location|Measure|MeasureReport|Media|Medication|MedicationAdministration|MedicationDispense|MedicationKnowledge|MedicationRequest|MedicationStatement|MedicinalProduct|MedicinalProductAuthorization|MedicinalProductContraindication|MedicinalProductIndication|MedicinalProductIngredient|MedicinalProductInteraction|MedicinalProductManufactured|MedicinalProductPackaged|MedicinalProductPharmaceutical|MedicinalProductUndesirableEffect|MessageDefinition|MessageHeader|MolecularSequence|NamingSystem|NutritionOrder|Observation|ObservationDefinition|OperationDefinition|OperationOutcome|Organization|OrganizationAffiliation|Patient|PaymentNotice|PaymentReconciliation|Person|PlanDefinition|Practitioner|PractitionerRole|Procedure|Provenance|Questionnaire|QuestionnaireResponse|RelatedPerson|RequestGroup|ResearchDefinition|ResearchElementDefinition|ResearchStudy|ResearchSubject|RiskAssessment|RiskEvidenceSynthesis|Schedule|SearchParameter|ServiceRequest|Slot|Specimen|SpecimenDefinition|StructureDefinition|StructureMap|Subscription|Substance|SubstanceNucleicAcid|SubstancePolymer|SubstanceProtein|SubstanceReferenceInformation|SubstanceSourceMaterial|SubstanceSpecification|SupplyDelivery|SupplyRequest|Task|TerminologyCapabilities|TestReport|TestScript|ValueSet|VerificationResult|VisionPrescription)\/[A-Za-z0-9\-\.]{1,64}(\/_history\/[A-Za-z0-9\-\.]{1,64})?"/>
                    </extension>
                </code>
            </type>
            <fixedUri value="http://hl7.org/fhir/us/ecr/StructureDefinition/eicr-trigger-code-flag-extension"/>
            <isModifier value="false"/>
            <isSummary value="false"/>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
        </element>
        <element id="Extension.value[x]">
            <path value="Extension.value[x]"/>
            <short value="Value of extension"/>
            <definition value="Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list)."/>
            <min value="0"/>
            <max value="0"/>
            <base>
                <path value="Extension.value[x]"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <code value="base64Binary"/>
            </type>
            <type>
                <code value="boolean"/>
            </type>
            <type>
                <code value="canonical"/>
            </type>
            <type>
                <code value="code"/>
            </type>
            <type>
                <code value="date"/>
            </type>
            <type>
                <code value="dateTime"/>
            </type>
            <type>
                <code value="decimal"/>
            </type>
            <type>
                <code value="id"/>
            </type>
            <type>
                <code value="instant"/>
            </type>
            <type>
                <code value="integer"/>
            </type>
            <type>
                <code value="markdown"/>
            </type>
            <type>
                <code value="oid"/>
            </type>
            <type>
                <code value="positiveInt"/>
            </type>
            <type>
                <code value="string"/>
            </type>
            <type>
                <code value="time"/>
            </type>
            <type>
                <code value="unsignedInt"/>
            </type>
            <type>
                <code value="uri"/>
            </type>
            <type>
                <code value="url"/>
            </type>
            <type>
                <code value="uuid"/>
            </type>
            <type>
                <code value="Address"/>
            </type>
            <type>
                <code value="Age"/>
            </type>
            <type>
                <code value="Annotation"/>
            </type>
            <type>
                <code value="Attachment"/>
            </type>
            <type>
                <code value="CodeableConcept"/>
            </type>
            <type>
                <code value="Coding"/>
            </type>
            <type>
                <code value="ContactPoint"/>
            </type>
            <type>
                <code value="Count"/>
            </type>
            <type>
                <code value="Distance"/>
            </type>
            <type>
                <code value="Duration"/>
            </type>
            <type>
                <code value="HumanName"/>
            </type>
            <type>
                <code value="Identifier"/>
            </type>
            <type>
                <code value="Money"/>
            </type>
            <type>
                <code value="Period"/>
            </type>
            <type>
                <code value="Quantity"/>
            </type>
            <type>
                <code value="Range"/>
            </type>
            <type>
                <code value="Ratio"/>
            </type>
            <type>
                <code value="Reference"/>
            </type>
            <type>
                <code value="SampledData"/>
            </type>
            <type>
                <code value="Signature"/>
            </type>
            <type>
                <code value="Timing"/>
            </type>
            <type>
                <code value="ContactDetail"/>
            </type>
            <type>
                <code value="Contributor"/>
            </type>
            <type>
                <code value="DataRequirement"/>
            </type>
            <type>
                <code value="Expression"/>
            </type>
            <type>
                <code value="ParameterDefinition"/>
            </type>
            <type>
                <code value="RelatedArtifact"/>
            </type>
            <type>
                <code value="TriggerDefinition"/>
            </type>
            <type>
                <code value="UsageContext"/>
            </type>
            <type>
                <code value="Dosage"/>
            </type>
            <isModifier value="false"/>
            <isSummary value="false"/>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
        </element>
    </snapshot>
    <differential>
        <element id="Extension">
            <path value="Extension"/>
            <short value="eICR Trigger Code Flag"/>
            <definition value="Definition: A flag to indicate that the **target** reference represents a triggering event and caused the eCR to be generated. It is used in the eICR profile in the following places:&#xD;&#xD;&#xA;- Composition[eICR Composition].section[Problem Section].entry&#xD;- Composition[eICR Composition].section[Results Section].entry&#xD;&#xA;- Composition[eICR Composition].section[Plan of Treatment Section].entry&#xD;- Encounter[eICR Encounter].diagnosis"/>
            <max value="*"/>
            <isModifier value="false"/>
        </element>
        <element id="Extension.extension">
            <path value="Extension.extension"/>
            <slicing>
                <discriminator>
                    <type value="value"/>
                    <path value="url"/>
                </discriminator>
                <rules value="open"/>
            </slicing>
        </element>
        <element id="Extension.extension:extensionTriggerCodeValueSet">
            <path value="Extension.extension"/>
            <sliceName value="extensionTriggerCodeValueSet"/>
            <short value="RCTC value set OID"/>
            <definition value="RCTC value set OID"/>
            <min value="1"/>
            <max value="1"/>
        </element>
        <element id="Extension.extension:extensionTriggerCodeValueSet.url">
            <path value="Extension.extension.url"/>
            <fixedUri value="triggerCodeValueSet"/>
        </element>
        <element id="Extension.extension:extensionTriggerCodeValueSet.value[x]">
            <path value="Extension.extension.value[x]"/>
            <type>
                <code value="oid"/>
            </type>
            <example>
                <label value="General"/>
                <valueOid value="urn:oid:2.16.840.1.114222.4.11.7508"/>
            </example>
            <mapping>
                <identity value="eCR-CDA"/>
                <map value="[eICR R2 STU2] @sdtc:valueSet (Any of the eICR trigger code templates)"/>
            </mapping>
        </element>
        <element id="Extension.extension:extensionTriggerCodeValueSetVersion">
            <path value="Extension.extension"/>
            <sliceName value="extensionTriggerCodeValueSetVersion"/>
            <short value="RCTC value set version"/>
            <definition value="RCTC value set version"/>
            <min value="1"/>
            <max value="1"/>
        </element>
        <element id="Extension.extension:extensionTriggerCodeValueSetVersion.url">
            <path value="Extension.extension.url"/>
            <fixedUri value="triggerCodeValueSetVersion"/>
        </element>
        <element id="Extension.extension:extensionTriggerCodeValueSetVersion.value[x]">
            <path value="Extension.extension.value[x]"/>
            <min value="1"/>
            <type>
                <code value="string"/>
            </type>
            <example>
                <label value="General"/>
                <valueString value="19/05/2019"/>
            </example>
            <mapping>
                <identity value="eCR-CDA"/>
                <map value="[eICR R2 STU2] @sdtc:valueSetVersion (Any of the eICR trigger code templates)"/>
            </mapping>
        </element>
        <element id="Extension.extension:extensionTriggerCode">
            <path value="Extension.extension"/>
            <sliceName value="extensionTriggerCode"/>
            <short value="Trigger code"/>
            <definition value="Trigger code - this code is the same as the trigger code in the resource and is used to identify which code(s) in a resource that allows multiple trigger codes (e.g. US Core Observation Lab where a trigger code could be contained in either the code (lab test) or the value (lab test result) or in the case of a battery or panel of tests, in the hasMember as another US Core Observation Lab code or value)."/>
            <min value="1"/>
            <max value="1"/>
        </element>
        <element id="Extension.extension:extensionTriggerCode.url">
            <path value="Extension.extension.url"/>
            <fixedUri value="triggerCode"/>
        </element>
        <element id="Extension.extension:extensionTriggerCode.value[x]">
            <path value="Extension.extension.value[x]"/>
            <min value="1"/>
            <type>
                <code value="Coding"/>
            </type>
            <example>
                <label value="General"/>
                <valueCoding>
                    <system value="http://snomed.info/sct"/>
                    <code value="3928002"/>
                    <display value="Zika virus disease (disorder)"/>
                </valueCoding>
            </example>
            <mapping>
                <identity value="eCR-CDA"/>
                <map value="[eICR R2 STU2] Any of the eICR trigger codes (code, value[xsi:type='CD'], or translation"/>
            </mapping>
        </element>
        <element id="Extension.url">
            <path value="Extension.url"/>
            <fixedUri value="http://hl7.org/fhir/us/ecr/StructureDefinition/eicr-trigger-code-flag-extension"/>
        </element>
        <element id="Extension.value[x]">
            <path value="Extension.value[x]"/>
            <min value="0"/>
            <max value="0"/>
        </element>
    </differential>
</StructureDefinition>